# Αρχές Γλωσσών Προγραμματισμού Prolog Interpreter
Σωτήριος Σκανδάλης, ΑΜ:1115-2020-00181
Μιχαήλ-Ραφαήλ Κωσταγιάννης, ΑΜ: 1115-2021-00078

## Makefile
- Με την εντολή 'make' γίνεται seperate compiling του προγράμματος και παράγεται το εκτελέσιμο main
- Τρέχουμε το εκτελέσιμο με την εντολή "./main"
- Αφού τρέξουμε το εκτελέσιμο, δίνουμε το αρχείο prolog σαν input και ξεκινάμε να τρέχουμε prolog queries
- Για να τερματίσουμε το πρόγραμμα δίνουμε την εντολή "halt."
- Με την εντολή 'make clean' διαγράφονται όλα τα εκτελέσιμα, .o και .hi αρχεία

## PrologLexer.hs
- Μετατρέπει ένα prolog αρχείο σε λίστα από tokens.
- Περιέχει τη δομή που περιλαμβάνει όλα τα πιθανά tokens.

## PrologParser.hs
- Μετατρέπει τη λίστα από tokens σε λίστα από ASTNodes.
- Περιέχει τη δομή που περιλαμβάνει όλα τα πιθανά ASTNodes.
- Περιέχει τη συνάρτηση 'checkIsValid' η οποία ελέγχει εάν ένα αρχείο prolog είναι συντακτικά σωστό.

## PatternMatch.hs
- Περιέχει τη συνάρτηση 'unify' η οποία παίρνει σαν ορίσματα δύο ASTNodes και επιστρέφει τον πιο γενικό ενοποιτή τους (MGU).
Ο MGU είναι μια λίστα από 2-tuples (ASTNode1, ASTNode2). Κάθε 2-tuple δηλώνει ότι αναθέτουμε το ASTNode2 στο ASTNode1.
- Ακολουθεί τον αλγόριθμο UNIFY από το μάθημα Τεχνητή Νοημοσύνη Ι. Ο αλγόριθμος αναγράφεται επίσης στο link που βρίσκεται στην κορυφή του αρχείου.
- Περιέχει επιπλέον τη συνάρτηση 'applyMgu' η οποία εφαρμόζει τον MGU σε μία λίστα από predicates
- Περιέχει, τέλος, τη συνάρτηση 'composeMgu' η οποία παίρνει σαν όρισμα μία λίστα από MGUs και συνθέτει τις αναθέσεις τους σε ένα ενιαίο και μοναδικό MGU

## TopDownEval.hs
- Περιέχει τη συνάρτηση 'topDownEvaluate' η οποία παίρνει σαν όρισμα το query του χρήστη και το parsed αρχείο και εφαρμόζει αποτίμηση Top-Down όπως αναγράφεται στην εκφώνηση.
- Εάν βρεθεί λύση τότε αυτή εκτυπώνεται στο terminal. Εάν δεν βρεθεί λύση τότε εκτυπώνεται "fail." . Εάν δωθεί σαν query κάποιο γεγονός τότε εκτυπώνεται "true." .
- Στην περίπτωση που βρεθεί λύση, ανατίθενται τιμές μόνος στις μεταβλητές όπου είναι απαραίτητο. Για παράδειγμα εάν έχουμε το γεγονός "fact(prolog, X)." και δωθεί σαν query το "fact(X, Y)." τότε η αναμενόμενη έξοδος είναι η "X=prolog".
- Ο τρόπος που αντιμετωπίζουμε variables με τα ίδια ονόματα μεταξύ facts/rules και queries είναι με το να προσθέσουμε μια απόστροφο(') σε όλες τις μεταβλητές των facts/rules κατά το evaluation τους. Στην περίπτωση που υπάρχουν ήδη μεταβλητές με μία απόστροφο, προστίθεται συνολικά 2, εάν υπάρχουν ήδη μεταβλητές με 2 απόστροφους τότε προσθέτουμε συνολικά 3 κοκ.

## tests
- Περιέχει prolog αρχεία τα οποία μπορούν να δωθούν σαν inputs κατά την εκτέλεση του προγράμματος
- Το αρχείο 'queriesAndOutputs.txt' περιέχει μερικά queries καθώς και τα αναμενόμενα outputs τους

## main.hs
- Περιέχει τη main συνάρτηση η οποία διαβάζει το prolog αρχείο και τα queries του χρήστη, τα κάνει parse και εκτελεί τα queries
- Κάνει exit όταν δωθεί η εντολή 'halt.'

## mgutests.hs
- Περιέχει κάποια tests σχετικά με τον αλγόριθμο unify και το MGU
- Αφού κάνουμε main, μπορούμε να τρέξουμε την εντολή "./mgutests" για να πάρουμε τα αποτελέσματά τους